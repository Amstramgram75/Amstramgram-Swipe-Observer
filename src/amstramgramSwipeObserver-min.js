let w=window,p="pointer",t="touch",m="mouse";export default class SO{static#t=w.PointerEvent?p:w.TouchEvent?t:m;static#e=w.PointerEvent?`${p}down`:w.TouchEvent?`${t}start`:`${m}down`;#i=null;#n=SO.#t==t?t:m;#s;#h;#r;#l=!1;#a=null;#c;#o=null;#u=null;#v=null;#d=null;#p=null;#X=null;#Y=null;#C=null;#E=null;#g=null;#m=0;#f=0;#P=20;#w(t){return Math.abs(t)}#y(t,e){return this.#i.addEventListener(t,e,!1),this}#T(t,e){return this.#i.removeEventListener(t,e,!1),this}#$(t,e="swiping"){let i=this.#O(t);i&&this.#i.dispatchEvent(new CustomEvent(e,{detail:i}))}#b(){this.#T(this.#s,this.#x).#T(this.#h,this.#S).#T(this.#r,this.#D)}#I=e=>{if(SO.#t==p&&!e.isPrimary)return;this.#c=e,this.#a=Date.now(),e=e.touches?e.touches[0]:e,this.#o=this.#p=e.pageX,this.#u=this.#X=e.pageY,this.#v=this.#Y=this.#E=e.clientX,this.#d=this.#C=this.#g=e.clientY,this.#m=this.#f=0,e.pointerType&&(this.#n=e.pointerType);let i=this.#n==m;this.#s=i?`${m}move`:`${t}move`,this.#r=i?`${m}leave`:`${t}cancel`,this.#h=i?`${m}up`:`${t}end`,this.#y(this.#s,this.#x).#y(this.#h,this.#S).#y(this.#r,this.#D)};#D=t=>{this.#S(t,!0)};#x=t=>{let e=t.touches?t.touches[0]:t;this.#Y=e.clientX,this.#C=e.clientY,this.#p=e.pageX,this.#X=e.pageY,this.#i.contains(document.elementFromPoint(this.#Y,this.#C))?(this.#m=this.#Y-this.#E,this.#f=this.#C-this.#g,this.#E=this.#Y,this.#g=this.#C,this.#$(t)):this.#D(t)};#S=(t,e=!1)=>{this.#b(),this.#m=this.#Y-this.#v,this.#f=this.#C-this.#d;let i=!e&&Math.max(this.#w(this.#m),this.#w(this.#f))>this.#P?"swipe":"cancel";this.#$(t,i)};#O(t){let e,i;return this.#w(this.#m)>this.#w(this.#f)?(i=0==this.#m?"":"hor",e=this.#m<0?"left":0==this.#m?"":"right"):(i=0==this.#f?"":"vert",e=this.#f<0?"up":0==this.#f?"":"down"),""!=e&&{client:{x0:this.#v,y0:this.#d,x1:this.#Y,y1:this.#C},delta:{x:this.#m,y:this.#f},direction:e,duration:Date.now()-this.#a,events:{start:this.#c,end:t},orientation:i,page:{x0:this.#o,y0:this.#u,x1:this.#p,y1:this.#X},pointerType:this.#n}}#k(t){let e=t.threshold;this.#P=Number.isInteger(e)&&e>0?e:this.#P}#L(){this.#l=!0,this.#y(SO.#e,this.#I,!1)}constructor(t,e={}){t&&(this.#i=t,this.#k(e),!0===e.active&&this.#L())}on(t={}){this.#k(t),this.#l||this.#L()}off(){this.#T(SO.#e,this.#I),this.#b()}}